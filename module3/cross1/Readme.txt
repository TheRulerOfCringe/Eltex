У клиента порт любой, а ip либо 127._._._, либо 10.0.2.15 (адрес машины, hostname -I)
У сервера порта фиксированного нет, при отправке берём порт из src в сообщении клиента, на принятие не bind'им, мы ж raw.
то есть

клиент1 -> сервер
UDP: src_port= X1 , dest_port= Y1

сервер -> клиент1
UDP: src_port= Y1 , dest_port= X1

клиент2 -> сервер
UDP: src_port= X2 , dest_port= Y2

сервер -> клиент2
UDP: src_port= Y2 , dest_port= X2

Даже если Y1 = Y2, то всё окей.

У клиента будет addr.sin_port = 0, чтобы всегда была уникальная пара ip:port.
Что гарантирует X1 != X2 при одинаковом ip.

Чтобы понять, что это пакет нам, мы добавляем в начале секретный тэг - пока что это 2082003

Пример запуска на моей машине:
./client 10.0.2.15 55555
./client 10.0.2.15 55556
./server
